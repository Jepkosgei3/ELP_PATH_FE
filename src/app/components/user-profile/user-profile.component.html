<app-navbar></app-navbar>


<div class="container container-fluid">

  <div class="user-profile-container">
    <!-- row 1 personal info -->
    <div class="personal-info-containter">
      <div class="user-info row align-items-center justify-content-between">
       
        <div class="profile-image">
          <h6>User Profile</h6>
          <mat-divider></mat-divider>
          <div class="image" *ngIf="imageurl">
            <img [src]="imageurl" />
          </div>
          <div class="image" *ngIf="!imageurl">
            <span><mat-icon>person</mat-icon></span>
          </div>
          <div class="profile-pic-edit " *ngIf="!useridparam">
            <!-- ================Edit if image exists============= -->
            <button
              class="edit"
              matTooltip="Edit photo"
              matTooltipPosition="left"
              matTooltipClass="tooltip"
              (click)="picformDialog('edit')"
              *ngIf="imageurl"
              class="edit"
            >
              <mat-icon>photo_camera</mat-icon>
            </button>

            <!-- =========If there's no image Add========= -->
            <button
              class="add"
              matTooltip="Add photo"
              matTooltipPosition="left"
              matTooltipClass="tooltip"
              (click)="picformDialog('add')"
              *ngIf="!imageurl"
              class="add"
            >
              <mat-icon>photo_camera</mat-icon>
            </button>
          </div>
          <div class="user-title">
            <p *ngIf="profileData?.usersDto">
              {{ profileData.usersDto.firstName }}
              {{ profileData.usersDto.lastName }}
            </p>
            <p *ngIf="!profileData?.usersDto">Profile Name</p>
          </div>
         
        </div>

        <!-- =======================USER-DETAILS======================================= -->

        <div class="d-flex details">
          <div class="user-details ">
            
              <h6>Scholar Information</h6>
            
            <mat-divider class="mb-2"></mat-divider>
            <div class="contact-item ">
              <mat-icon>book</mat-icon>
              <span *ngIf="profileData"
                >{{
                  profileData?.profile?.title ? profileData?.profile?.title : "Title"
                }}
              </span>
              <span *ngIf="!profileData?.profile"> Title </span>
              <!-- <span *ngIf="profileData"
                >{{ profileData.status ? profileData.status : "" }}
              </span>
              <span>{{ profileData.country ? profileData.country : "" }}</span> -->
            </div>
            <div class="job">
              <div class="contact-item">
                <mat-icon>school</mat-icon>
  
                <span *ngIf="profileData">{{
                  profileData.scholarDTO.scholarCategory !== null
                    ? profileData.scholarDTO.scholarCategory
                    : "Scholar Category"
                }}</span>
                <span *ngIf="!profileData?.scholarDTO">Scholar Category</span>
              </div>
            </div>
            <div class="job">
              <div class="contact-item">
                <mat-icon>school</mat-icon>
  
                <span *ngIf="profileData?.scholarDTO">{{
                  profileData.scholarDTO.scholarType +" Scholar" !== null
                    ? profileData.scholarDTO.scholarType + " Scholar"
                    : "Scholar Type"
                }}</span>
                <span *ngIf="!profileData?.scholarDTO">Scholar Type</span>
              </div>
            </div>
 
            <div class="job">
              <div class="contact-item">
                <mat-icon>calendar_month</mat-icon>
                <p style="margin-top: 17px;">Joined :&nbsp;&nbsp;</p>
  
                <span *ngIf="profileData?.scholarDTO">{{
                  profileData.scholarDTO.yearOfJoiningTertiaryProgram
                    ? profileData.scholarDTO.yearOfJoiningTertiaryProgram
                    : "Scholar Year"
                }}</span>
           
                <span  *ngIf="!profileData?.scholarDTO" >Scholar Year</span>
              </div>
            </div>
  
            <div class="user-contacts ">
              <div class="contact-item">
                <mat-icon>account_balance</mat-icon>
                <span *ngIf="profileData?.scholarDTO">{{
                  profileData.scholarDTO.branch.branchName +" Branch"
                    ? profileData.scholarDTO.branch.branchName +" Branch"
                    : "Branch"
                }}</span>
                <span *ngIf="!profileData?.scholarDTO">Branch </span>
                <!-- <span> Branch </span> -->
              </div>
            </div>
            <div class="user-contacts">
              <!-- <div class="contact-item">
                <mat-icon>home_pin</mat-icon>
                <span *ngIf="profileData?.profile">{{
                  profileData.scholarDTO.countryOfOrigin.name !== null
                    ? profileData.scholarDTO.countryOfOrigin.name
                    : "Nationality"
                }}</span> 
                <span *ngIf="!profileData?.scholarDTO"> Nationality </span>
                 <span> Branch </span> 
              </div> -->
            </div>
          </div>
          <!-- ======Profile Details Cont========================================== -->
          <!-- <div class="v-line"></div> -->
          <div class="user-details-cont">
            <div class="country">
              <div class="contact-item">
                <mat-icon>public</mat-icon>
  
                <span *ngIf="profileData?.profile">{{
                  (profileData.profile.currentCountryofResidence !== null
                    ? profileData.profile.currentCountryofResidence : (this.profileData.scholarDTO.countryOfOrigin.name !== null? this.profileData.scholarDTO.countryOfOrigin.name : "Country of Residence"))
                }}</span>
                <span *ngIf="!profileData?.profile">Country of Residence</span>
              </div>
            </div>
            <div class="country">
              <div class="contact-item">
                <mat-icon>place</mat-icon>
  
                <span *ngIf="profileData?.profile">{{
                  (profileData.profile.currentCityofResidence !== null
                    ? profileData.profile.currentCityofResidence : profileData.scholarDTO.homeCounty.name !== null ? profileData.scholarDTO.homeCounty.name : "City") 
                }}</span>
                <span *ngIf="!profileData?.profile">City of Resisdence</span>
              </div>
            </div>

            <div class="country">
              <div class="contact-item">
                <mat-icon>location_city</mat-icon>
  
                <span *ngIf="profileData?.profile">{{
                  (profileData.profile.currentCountyofResidence !== null
                    ? profileData.profile?.kenyanCounty?.name : profileData.scholarDTO.homeCounty.name !== null ? profileData.scholarDTO.homeCounty.name : "county") 
                }}</span>
                <span *ngIf="!profileData?.profile">County of Resisdence</span>
              </div>
            </div>
  
            <div class="user-contacts">
              <div class="contact-item">
                <mat-icon>work_outline</mat-icon>
  
                <span *ngIf="profileData?.profile">{{
                  profileData.profile.jobStatus !== null
                    ? profileData.profile.jobStatus
                    : "Job Status"
                }}</span>
                <span *ngIf="!profileData?.profile">Job Status</span>
              </div>
              <div class="contact-item">
                <mat-icon>phone</mat-icon>
                <span *ngIf="profileData?.profile">{{
                  profileData.profile.phoneNo !== null
                    ? profileData.profile.phoneNo
                    : "Phone Number"
                }}</span>
                <span *ngIf="!profileData?.profile"> Phone Number </span>
                <ng-container *ngIf="userInfo?.id">
                  <section class="example-section" [formGroup]="contactPrivacy">
                  <mat-checkbox formControlName="phoneNumberPrivate" (click) ="onChecked()"  (change)="onCheckboxChange($event.checked)">{{checkboxLabel1}}</mat-checkbox>
                  </section>
                </ng-container>

              </div>
  
              <div class="contact-item">
                <mat-icon>email</mat-icon>
                <span *ngIf="profileData?.profile">  
                  {{
                    profileData.profile.email !== null
                      ? profileData.profile.email
                      : "Email"
                  }}</span
                >
  
                <span *ngIf="!profileData?.profile"> Email</span>
                <ng-container *ngIf="userInfo?.id">
                  <section class="example-section" [formGroup]="contactPrivacy">
                  <mat-checkbox formControlName="emailPrivate" (click) ="onChecked()" (change)="onCheckboxChange2($event.checked)">{{chackboxLabel2}}</mat-checkbox>
                  </section>
                </ng-container>
               
              </div>
              <div class="contact-item">
                <mat-icon>link</mat-icon>
                <span *ngIf="profileData">

                  <a
                  [href]="profileData?.profile?.website != null ? profileData?.profile?.website:'#'"
                  target="blank"
                  rel="noopner noreferrer"
                  class="social-link">

                  {{
                    profileData?.profile?.website !== null
                      ? profileData?.profile?.website
                      : "WebLink"
                  }}
                  </a>
                  </span>
                <span *ngIf="!profileData?.profile?.website"> Web Link</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="add-edit d-flex align-items-center justify-content-between" *ngIf="!useridparam">

        <a
          matTooltip="Edit"
          matTooltipPosition="left"
          matTooltipClass="tooltip"
          (click)="pformDialog('edit')"
          class="edit"
          *ngIf="profileData"
        >
          <mat-icon>edit</mat-icon>User info</a
        >
        <a 
          matTooltip="Add"
          matTooltipPosition="left"
          matTooltipClass="tooltip"
          (click)="pformDialog('add')"
          class="add"
          *ngIf="!profileData"
        >
          <mat-icon >add</mat-icon> Addprofile
          </a
        >
      </div>

      <!-- ================================SOCIAL-LINKS=================================== -->
      <!-- <div class="v-line"></div> -->
    
      
      <div class="user-social-links" *ngIf="social_profileData">
        <h6 class="link">Social Links</h6>
        <a href="https://linkedin.com/in/{{social_profileData.linkedIn}}" *ngIf="social_profileData.linkedIn" target="_blank" class="social-link">
          <img src="assets/images/ln.svg" />
          <span>{{social_profileData.linkedIn}}</span>
      </a>
        <a href="https://facebook.com/{{social_profileData.facebook}}" *ngIf="social_profileData.facebook" target="_blank" class="social-link">
            <img src="assets/images/fb.svg" />
            <span>{{social_profileData.facebook}}</span>
        </a>
        <a href="https://instagram.com/{{social_profileData.instagram}}" *ngIf="social_profileData.instagram"  target="_blank" class="social-link">
            <img src="assets/images/ig.svg" height="25" />
            <span>{{social_profileData.instagram}}</span>
        </a>
        <a href="https://twitter.com/{{social_profileData.twitter}}" *ngIf="social_profileData.twitter"  target="_blank" class="social-link">
            <img src="assets/images/tw.svg" />
            <span>{{social_profileData.twitter}}</span>
        </a>
        <a href="https://github.com/{{social_profileData.github}}" *ngIf="social_profileData.github"  target="_blank" class="social-link">
            <img src="assets/images/git.svg" />
            <span>{{social_profileData.github}}</span>
        </a> 
        <a class="d-flex align-items-center" style="margin-left: -10px;">
          <mat-icon>visibility</mat-icon><strong id="" class="mx-1" (click)="showCV()">full profile</strong>
        </a>
    </div>

   
    <div class="social-link-add-edit" *ngIf="!useridparam">
        <div class="add-edit">
            <a matTooltip="Edit"
             matTooltipPosition="left"
              matTooltipClass="tooltip"
              (click)="sformDialog('edit')"
              class="edit"
              *ngIf="social_profileData">
                <mat-icon>edit</mat-icon> Edit
            </a>
          <a
            matTooltip="Add"
            matTooltipPosition="left"
            matTooltipClass="tooltip"
            (click)="sformDialog('add')"
            *ngIf="!social_profileData"
            class="add"
          >
            <mat-icon>add</mat-icon>Add</a
          >
        </div>
      </div>
    </div>

    <!-- row 2 tabs -->

    <!-- ===========================TABS============================== -->

    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-6 col-sm-4 col-md-2">
          <button class="single-card-tab" (click)="showTab('feeds')">
            <div class="tab-content">
              <div class="tab-icon"><mat-icon>account_circle</mat-icon></div>
              <div class="tab-text">Posts</div>
            </div>
          </button>
        </div>
        <div class="col-xs-6 col-sm-4 col-md-2">
                <!-- single card tab bio -->
          <button class="single-card-tab" (click)="showTab('bio')">
            <div class="tab-content">
              <div class="tab-icon"><mat-icon>assignment</mat-icon></div>
              <div class="tab-text">Bio</div>
            </div>
          </button>
        </div>
        <div class="col-xs-6 col-sm-4 col-md-2">
                <!-- single card tab education -->
          <button class="single-card-tab" (click)="showTab('education')">
            <div class="tab-content">
              <div class="tab-icon"><mat-icon>school</mat-icon></div>
              <div class="tab-text">Education</div>
            </div>
          </button>
        </div>
        <div class="col-xs-6 col-sm-4 col-md-2">
               <!-- single card tab career -->
          <button class="single-card-tab" (click)="showTab('career')">
            <div class="tab-content">
              <div class="tab-icon"><mat-icon>card_travel</mat-icon></div>
              <div class="tab-text">Career</div>
            </div>
          </button> 
        </div>
        <div class="col-xs-6 col-sm-4 col-md-2">
          <button class="single-card-tab" (click)="showTab('skills')">
            <div class="tab-content">
              <div class="tab-icon"><mat-icon>engineering</mat-icon></div>
              <div class="tab-text">Skills</div>
            </div>
          </button>
        </div>
        <div class="col-xs-6 col-sm-4 col-md-2">
          <button class="single-card-tab" (click)="showTab('Achievements')">
            <div class="tab-content">
              <div class="tab-icon"><mat-icon>star</mat-icon></div>
              <div class="tab-text">Achievements</div>

            </div>
          </button>
        </div>




      <!-- single card tab Skills-->


      </div>
        <!-- single card tab feeds -->

      <!-- single card tab post -->
      <!-- <button class="single-card-tab">
        <div class="tab-content">
          <div class="tab-icon"><mat-icon>edit_notes</mat-icon></div>
          <div class="tab-text">Posts</div>
        </div>
      </button> -->
    </div>

    <!-- -======- row 3 tab body -=======================================-> -->
    <!-- <div class="tab-feeds">

      </div> -->
    <div class="tab-body">
      <ng-container *ngIf="activeTab === 'feeds'">
        <app-user-feeds></app-user-feeds>
        <!-- <app-bio
          [userIdadmin]="userid"
          [viewer]="userid"
          *ngIf="useridparam"
        ></app-bio> -->
      </ng-container>
      <ng-container *ngIf="activeTab === 'bio'">
        <app-bio *ngIf="!useridparam"></app-bio>
        <app-bio
          [userIdadmin]="userid"
          [viewer]="userid"
          *ngIf="useridparam"
        ></app-bio>
      </ng-container>

      <ng-container *ngIf="activeTab === 'education'">
        <app-education *ngIf="!useridparam"></app-education>

        <app-education
          [userIdadmin]="userid"
          [viewer]="userid"
          *ngIf="useridparam"
        ></app-education>
      </ng-container>
      <ng-container *ngIf="activeTab === 'career'">
        <!--  -->
        <app-career *ngIf="!useridparam"></app-career>
        <!--  -->
        <app-career
          [userIdadmin]="userid"
          [viewer]="userid"
          *ngIf="useridparam"
        ></app-career>
      </ng-container>
      <ng-container *ngIf="activeTab === 'skills'">
        <!--  -->
        <app-skills *ngIf="!useridparam"></app-skills>
        <!--  -->

        <!-- <app-skills [skillsData]="skillsData"></app-skills> -->
        <app-skills
          [userIdadmin]="userid"
          [viewer]="userid"
          *ngIf="useridparam"
        ></app-skills>
        
      </ng-container>
      <ng-container *ngIf="activeTab === 'Achievements'">
        <!--  -->
        <app-user-achievement *ngIf="!useridparam"></app-user-achievement>
        <!--  -->
        <app-user-achievement
        [userIdadmin]="userid"
        [viewer]="userid"
        *ngIf="useridparam"
        ></app-user-achievement>
      </ng-container>

    </div>
  </div>
</div>
